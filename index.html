<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Profile Card</title>
  <link rel="stylesheet" href="./fontawesome-free-5.15.4-web/css/all.css"/>
  <link rel="stylesheet" href="style.css"/>
  <link rel="icon" type="image/x-icon" href="./avatar.png"/>
  
</head>

<body>
    <div class="card">

      <div class="top">
        <div class="img">
          <img src="./Illustrate.svg">
          <div class="name">
            <h2>Khoa Nguyễn</h2>
            <h4>@youngboiCoder</h4>
          </div>
          <div class="social">
            <a href="https://facebook.com/youngboiCoder" class="fab fa-facebook" target="_blank"></a>
            <a href="https://instagram.com/_youngboicoder" class="fab fa-instagram" target="_blank"></a>
            <a href="https://github.com/youngboiCoder" class="fab fa-github" target="_blank"></a>
            <a href="https://behance.net/youngboiCoder" class="fab fa-behance" target="_blank"></a>
            <a href="mailto:rogkhoa.mail@gmail.com" class="fas fa-envelope"></a>
            </div>
          <div class="links">
            <button class="follow" onclick="openFacebook()">Follow</button>
            <button class="view" onclick="openProfile()">Portfolio</button>
          </div>
        </div>
        <div class="infos">
          <p class="text">
            Xin chào, mình là Khoa Nguyễn, hiện tại mình đang là Software Developer, Graphic, UX/UI Designer, Front-end Developer và là Founder/CEO của chuỗi thương hiệu The Okyo.
            <br><br>Chào mừng tới profile của mình.
          </p>
          <ul class="stats">
            <li>
              <h3><span data-target="160" class="count">0</span>K</h3>
              <h4>Views</h4>
            </li>
            <li>
              <h3 data-target="279" class="count">0</h3>
              <h4>Project</h4>
            </li>
            <li>
              <h3 data-target="1195" class="count">0</h3>
              <h4>Followers</h4>
            </li>
          </ul>          
        </div>
      </div>        
      </div>
</body>

<script >
  const counters = document.querySelectorAll(".count");
  const speed = 150; //Nó nằm ở đây, speed < index @quang 

  counters.forEach((counter) => {
  const updateCount = () => {
    const target = parseInt(+counter.getAttribute("data-target"));
    const count = parseInt(+counter.innerText);
    const increment = Math.trunc(target / speed);
    console.log(increment);

    if (count < target) {
      counter.innerText = count + increment;
      setTimeout(updateCount, 1);
    } else {
      count.innerText = target;
    }
  };
  updateCount();
  });

  const openFacebook = () => {
  window.open("https://www.facebook.com/youngboiCoder");
  }

  const openProfile = () => {
    window.open('https://youngboicoder.github.io/portfolio')
  }
  
  function animate(obj, initVal, lastVal, duration) {

    let startTime = null;

    //get the current timestamp and assign it to the currentTime variable
    let currentTime = Date.now();

    //pass the current timestamp to the step function
    const step = (currentTime ) => {

        //if the start time is null, assign the current time to startTime
        if (!startTime) {
              startTime = currentTime ;
        }

        //calculate the value to be used in calculating the number to be displayed
        const progress = Math.min((currentTime  - startTime) / duration, 1);

        //calculate what to be displayed using the value gotten above
        obj.innerHTML = Math.floor(progress * (lastVal - initVal) + initVal);

        //checking to make sure the counter does not exceed the last value (lastVal)
        if (progress < 1) {
              window.requestAnimationFrame(step);
        }
        else{
              window.cancelAnimationFrame(window.requestAnimationFrame(step));
        }
      }
      window.requestAnimationFrame(step);
    };

    let view = 0;
</script>

</html>
